### 总结

###### 使用 

~~~python
* 创建类: 继承 BaseAuthentication；实现 authenticate 方法

* 返回值: 
    - None: 我不管，下一个认证类来执行
    - raise exceptions.AuthenticationFailed('用户认证失败')
    - (元素1， 元素2) # 元素1赋值给 request.user, 元素2赋值给request.auth 
    
* 局部使用
from rest_framework.authentication import BaseAuthentication
class UserInfoView(APIView):
    """
	订单相关业务
	"""
    authentication_classes = [BasicAuthentication,]
    def get(self,request,*args,**kwargs):
        print(request.user)
        return HttpResponse('用户信息')
    
* 全局使用 (建议)
REST_FRAMEWORK = {
    # 全局使用的认证类
    "DEFAULT_AUTHENTICATION_CLASSES":['api.utils.auth.FirstAuthtication','api.utils.auth.Authtication', ],
}
~~~

###### 源码流程

~~~python
- dispatch
    - 封装 request
        - 获取定义的认证类(全局/局部)，通过列表生成式创建认证类的对象
    - initial
        - perform_authentication
            request.user(内部循环...)
~~~

